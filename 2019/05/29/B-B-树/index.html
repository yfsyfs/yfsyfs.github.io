<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>B/B+树 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="缘起为了解决BST数据倾斜的问题，我们引入了AVL等平衡二叉树的结构. 但是对于海量数据的今天, 内存算法近乎不可能, 所以很多时候对数据进行检索的时候其实下一次要读取的数据其实尚在磁盘中. 而我们知道数据在磁盘中是以块（block）为单位存放的, 并且数据的读取要经历  柱面–&amp;gt;磁道–&amp;gt;块–&amp;gt;系统总线传输  上面的过程（参见【1】）. 其中前三个属于磁头定位要读取数据的过程，最">
<meta name="keywords" content="算法,教材,树,查找树">
<meta property="og:type" content="article">
<meta property="og:title" content="B&#x2F;B+树">
<meta property="og:url" content="http://yoursite.com/2019/05/29/B-B-树/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="缘起为了解决BST数据倾斜的问题，我们引入了AVL等平衡二叉树的结构. 但是对于海量数据的今天, 内存算法近乎不可能, 所以很多时候对数据进行检索的时候其实下一次要读取的数据其实尚在磁盘中. 而我们知道数据在磁盘中是以块（block）为单位存放的, 并且数据的读取要经历  柱面–&amp;gt;磁道–&amp;gt;块–&amp;gt;系统总线传输  上面的过程（参见【1】）. 其中前三个属于磁头定位要读取数据的过程，最">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/mysql.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/mysql_B_plus_index.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/2.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/3.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/4.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/5.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/6.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/7.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/8.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/9.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/10.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/11.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/12.png">
<meta property="og:image" content="http://yoursite.com/2019/05/29/B-B-树/13.png">
<meta property="og:updated_time" content="2019-06-03T02:32:32.553Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="B&#x2F;B+树">
<meta name="twitter:description" content="缘起为了解决BST数据倾斜的问题，我们引入了AVL等平衡二叉树的结构. 但是对于海量数据的今天, 内存算法近乎不可能, 所以很多时候对数据进行检索的时候其实下一次要读取的数据其实尚在磁盘中. 而我们知道数据在磁盘中是以块（block）为单位存放的, 并且数据的读取要经历  柱面–&amp;gt;磁道–&amp;gt;块–&amp;gt;系统总线传输  上面的过程（参见【1】）. 其中前三个属于磁头定位要读取数据的过程，最">
<meta name="twitter:image" content="http://yoursite.com/2019/05/29/B-B-树/mysql.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-B-B-树" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/29/B-B-树/" class="article-date">
  <time datetime="2019-05-29T15:05:12.000Z" itemprop="datePublished">2019-05-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      B/B+树
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="缘起"><a href="#缘起" class="headerlink" title="缘起"></a>缘起</h3><p>为了解决BST数据倾斜的问题，我们引入了AVL等平衡二叉树的结构. 但是对于海量数据的今天, 内存算法近乎不可能, 所以很多时候对数据进行检索的时候其实下一次要读取的数据其实尚在磁盘中. 而我们知道数据在磁盘中是以块（block）为单位存放的, 并且数据的读取要经历</p>
<blockquote>
<p>柱面–&gt;磁道–&gt;块–&gt;系统总线传输</p>
</blockquote>
<p>上面的过程（参见【1】）. 其中前三个属于磁头定位要读取数据的过程，最为耗时（甚至可长达0.1s之久）. 所以对于海量数据的检索问题，我们必须要尽可能减少磁盘IO的次数. 因此降低树的高度势在必行——因为每次读取下一个树的节点就有可能是去磁盘通过IO文件读取数据. 所以原先的二路平衡查找拓广为多路平衡查找树势在必行. 这就是B系列的查找树（B、B+、B*）. 关于B树的前世今生以及B树的高维推广——R树（用于地图搜索）可参见【2】, 七月大神的博文.</p>
<a id="more"></a>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>简单来讲，下面展示了B树的增删查三种操作. 查询的话没什么好说的，与BST完全类似. 只是定位到了节点之后，使用顺序表哨兵查找（而没有使用二分搜索，图简便嘛~ 因为定位到了节点之后，关键值数组元素个数优先，例如本例3阶B树的关键值数组至多2个元素, 二不二分其实和顺序哨兵查找没有太大性能差别了）检索到数据.</p>
<p>增加节点的话, 首先查询，如果查到了就不允许增加. 如果没查到，此时待插入的位置一定是叶子节点. 所以B树的增一定是从叶子节点开始增的. 而一旦关键值个数&gt;=m(m是B树的阶数)，则爆了, 就要分裂. 关键值数组分裂成key[1,…,s-1]和key[s,…,M]，s=(M+1)/2, 分裂出来的尚没有父节点的指针和key[s]添加到父节点中去. 然后父节点可能再次分裂. 递推往上.</p>
<p>删除节点的话, 首先查询, 没查到，删除失败，查到了，先找到bst意义上该节点的后继（注意，该后继节点一定是叶子节点）. 然后将待删除的节点的值替换为该后继的值,然后删除该后继. 所以和新增操作一样，B树的删除操作也是从叶子节点开始的. 删除的话会导致节点个数减少以至于不满足B树节点的定义. 如果左右兄弟有的借（就是下面的borrow函数），就借一个过来（确切讲，是父节点下来一个关键值, 兄弟上去一个关键值），则这种减少不会向父亲传递. 否则的话, 也即左右兄弟都穷, 则就要向父亲借一个, 则就会使用合并操作（也就是下面的merge函数），然后这种减少再往祖父传播.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdafx.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="comment">//#define LOCAL</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">3</span>; <span class="comment">// 本程序以 3阶B树为例子, m阶B树的定义是根节点至多m棵子树，至少2棵子树，但是非根节点至少m/2的向上取整棵子树，至多m棵子树</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BTNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> keynum, key[M+<span class="number">1</span>]; <span class="comment">// keynum是该节点中实际的键值的个数，key是该节点中的关键数组. 注意, 索引0不用于存储关键值,即关键值存储在 key[1,...,keynum],而ptr[0,...,keynum]是该节点的子树, 但是keynum&lt;=M-1, 因为最多M棵子树. 所以keynum最多到M-1， 即key[1,...,M-1], 这样最多M棵子树, 并且子树是 ptr[0,...,M-1], 那么问题来了——为什么需要前后分别多出key[0]和key[M]呢? 因为下面插入节点的时候, 要先插入, 如果爆了，再分裂. 所以key[1,...,keynum]前后必须要各留出一个位置用于暂时安放插入元素, 这里keynum&lt;=M-1, 所以key要开成[0,...,M],即key[M+1]</span></span><br><span class="line">	BTNode *parent, *ptr[M+<span class="number">1</span>]; <span class="comment">// parent是父节点、ptr是子树的根节点数组（对于叶子节点, ptr中全部是0）, 其中ptr[i]指向的子树表示上面的值的范围是 (key[i],key[i+1]) 1&lt;=i&lt;keynum, 而对于ptr[0]指向的子树表示值&lt;key[1], 对于ptr[keynum]，它表示值都 &gt; key[keynum] 具体参见图1</span></span><br><span class="line">	BTNode(<span class="keyword">int</span> key):keynum(<span class="number">1</span>),parent(<span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;key[<span class="number">1</span>] = key;</span><br><span class="line">		<span class="built_in">memset</span>(ptr,<span class="number">0</span>,<span class="keyword">sizeof</span>(ptr));</span><br><span class="line">	&#125;</span><br><span class="line">	BTNode()&#123;&#125;</span><br><span class="line">&#125; BTNode, *BTree;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Result</span> // 查找结果</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	BTree ptr; <span class="comment">// 指向B树节点的指针</span></span><br><span class="line">	<span class="keyword">int</span> i; <span class="comment">//如果ok为false的话,则 ptr-&gt;key[i] &lt; target &lt; ptr-&gt;key[i+1](当1&lt;=i&lt;ptr-&gt;keynum) 或者 target &lt; ptr-&gt;key[1]（当i=0） 或者 target &gt;ptr-&gt;key[ptr-&gt;keynum](当i=ptr-&gt;keynum) 可以参见图1，如果ok为true的话, ptr-&gt;key[i] = target(1&lt;=i&lt;=keynum)</span></span><br><span class="line">	<span class="keyword">bool</span> ok; <span class="comment">// 查没查到?</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在B树节点p上寻找key, 寻找的结果信息封装在r中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find</span><span class="params">(BTree p, <span class="keyword">int</span> key, Result &amp;r)</span> <span class="comment">// 注意, B树亦是BST类型的, 即p-&gt;key 是非降的数组</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	p-&gt;key[<span class="number">0</span>] = key; <span class="comment">// 设置顺序查找哨兵， 防止r.i 不断的小下去, 设置哨兵之后, r.i最小只会小到0</span></span><br><span class="line">	r.i = p-&gt;keynum;</span><br><span class="line">	<span class="keyword">while</span>(key &lt; p-&gt;key[r.i]) r.i--;</span><br><span class="line">	<span class="keyword">if</span> (r.i &amp;&amp; key==p-&gt;key[r.i]) r.ok = <span class="literal">true</span>; <span class="comment">// 如果不是因为等于0才相等, 则就是找到了</span></span><br><span class="line">	<span class="keyword">else</span> r.ok = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Result <span class="title">search</span><span class="params">(BTree root, <span class="keyword">int</span> key)</span> <span class="comment">// 在以root为根的B树中查找关键字key</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	BTree p = root,q = <span class="number">0</span>; <span class="comment">// p是移动指针, q指向p的父亲</span></span><br><span class="line">	Result r;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		q = p;</span><br><span class="line">		find(p, key, r); <span class="comment">// 在p上探索一番</span></span><br><span class="line">		<span class="keyword">if</span> (r.ok) <span class="comment">// 如果找到了</span></span><br><span class="line">		&#123;</span><br><span class="line">			r.ptr = p;</span><br><span class="line">			<span class="keyword">return</span> r;</span><br><span class="line">		&#125;</span><br><span class="line">		p = p-&gt;ptr[r.i];</span><br><span class="line">	&#125; <span class="comment">// while循环结束, 如果中间没有return的话, 说明p=0了, q是叶子节点, 则ptr 应该指向q，而且q上没有一个关键值和key相等的</span></span><br><span class="line">	r.ptr = q;</span><br><span class="line">	<span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">split</span><span class="params">(BTree q, <span class="keyword">int</span> s, BTree &amp;p)</span> <span class="comment">// 将q-&gt;key[s+1],...,q-&gt;key[M]与q-&gt;ptr[s],...,q-&gt;key[M]移动到节点p去， 即q分裂 M-s个关键值到p去(p会新开辟), q分裂前是 q-&gt;key[1,...,M], 所以q剩下q-&gt;key[1,..,s]，p得到了q-&gt;key[s+1,...,M]</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	p = <span class="keyword">new</span> BTNode();</span><br><span class="line">	p-&gt;keynum = M-s;</span><br><span class="line">	p-&gt;parent = q-&gt;parent; <span class="comment">// 因为p是从q分裂出来的, 所以p和q应该是同一个父亲.</span></span><br><span class="line">	<span class="built_in">memcpy</span>(p-&gt;key+<span class="number">1</span>, q-&gt;key+(s+<span class="number">1</span>), <span class="keyword">sizeof</span>(<span class="keyword">int</span>)*(M-s));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i= <span class="number">0</span>; i&lt;=M-s; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		p-&gt;ptr[i] = q-&gt;ptr[i+s];</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;ptr[i]) p-&gt;ptr[i]-&gt;parent = p; <span class="comment">// 爹变了</span></span><br><span class="line">	&#125;</span><br><span class="line">	q-&gt;keynum = s<span class="number">-1</span>; <span class="comment">// q的关键值个数变成了 s-1个，诶，等一下, p不是只分掉了s+1到M么? 那么q不应该是 1,...,s么? 其实不是, 因为分裂之后, 要将p插入到q的父节点上去, 而多一根指针就需要多一个关键值, 所以需要q[s]作为这个关键值插入到q的父节点上去. 但是B树节点中是不能重复的, 所以既然q[s]以后将作为父节点上的一个节点, 那自然不可能继续在原本的q上存在了</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(BTree q, <span class="keyword">int</span> i, <span class="keyword">int</span> x, BTree p)</span> <span class="comment">// 将关键值x与指向关键字都比x大的指针p插到q-&gt;key[i+1]位置上,即x和p插到q-&gt;key[i]的后面, 这只是封装了一个单纯的插入的小函数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> j = q-&gt;keynum; j&gt;i; j--)</span><br><span class="line">	&#123;</span><br><span class="line">		q-&gt;key[j+<span class="number">1</span>] = q-&gt;key[j];</span><br><span class="line">		q-&gt;ptr[j+<span class="number">1</span>] = q-&gt;ptr[j];</span><br><span class="line">	&#125;</span><br><span class="line">	q-&gt;key[i+<span class="number">1</span>] = x;</span><br><span class="line">	q-&gt;ptr[i+<span class="number">1</span>] = p;</span><br><span class="line">	q-&gt;keynum++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(BTree &amp;root, <span class="keyword">int</span> key, BTree q, <span class="keyword">int</span> i)</span> <span class="comment">// 往root为根的B树节点q(实际场景中就是叶子节点)的q-&gt;key[i]和 q-&gt;key[i+1]之间插入key</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> ok = <span class="literal">false</span>; <span class="comment">// 插入是否搞定了</span></span><br><span class="line">	BTree p = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> x = key; <span class="comment">// x会变</span></span><br><span class="line">	<span class="keyword">while</span>(!ok &amp;&amp; q) <span class="comment">// q亦会变</span></span><br><span class="line">	&#123;</span><br><span class="line">		insert(q,i,x,p); <span class="comment">// 将x和p插入到q-&gt;key[i]后面，即成为 q-&gt;key[i+1]与q-&gt;ptr[i+1]</span></span><br><span class="line">		<span class="keyword">if</span> (q-&gt;keynum &lt; M) <span class="comment">// 根据B树的定义, 节点最多M-1个关键值, 如果插入之后, 关键值的个数依旧没爆,则插入完成, 因为不需要分裂</span></span><br><span class="line">		&#123;</span><br><span class="line">			ok = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="comment">// 说明因为插入x与p导致q节点爆炸了(q-&gt;keynum&gt;=M了), 则违法B树定义, 则就要分裂q节点</span></span><br><span class="line">		&#123;</span><br><span class="line">			split(q, (M+<span class="number">1</span>)/<span class="number">2</span>, p); <span class="comment">// q分裂M-(M+1)/2 个关键值到p 中去, p会新开辟，即 q[1,...,(M+1)/2] 保留在q中</span></span><br><span class="line">			x = q-&gt;key[(M+<span class="number">1</span>)/<span class="number">2</span>]; <span class="comment">// x位于q节点上（并没有分裂到p上去）并且x是q上最后那个节点</span></span><br><span class="line">			q = q-&gt;parent; <span class="comment">// q到其父节点去, </span></span><br><span class="line">			<span class="keyword">if</span> (q) <span class="comment">// 如果还有父节点的话, 则需要将这里分裂出来的p插入到q的父节点中去.(注意,目前新分裂出来的p尚没有父节点哩!)</span></span><br><span class="line">			&#123;</span><br><span class="line">				Result r;</span><br><span class="line">				find(q, x ,r); <span class="comment">// 在q(已经往上走了一个节点)中寻找x, 查找的结果封装在r中.</span></span><br><span class="line">				i = r.i; <span class="comment">// 更新i,更新之后的i满足 q[i]&lt;x&lt;q[i+1],注意, 不会出现相等, 因为q[i]是原本的q(q已经变动到它的父节点上去了)的父节点上的值, 而这里x是原本q上的值, 而B树上节点的关键值是不一样的. 现在是想将p插入到原本q的父节点上去, 而根据图1知道多一根指针（ptr）就必须要多一个关键值, 所以原本q的父节点上新增哪个关键值呢? 就多原本q分裂之后的最后那个关键值就行了.</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="comment">// ok是true或者 q已经变成空的了</span></span><br><span class="line">	<span class="keyword">if</span> (!ok) <span class="comment">// 如果q变成空的了还不ok, 则意味着原本的根节点都分裂了, 即上面while循环最后加入的x 和 p 已经将原先的根节点撑爆了.然后原先的根节点分裂了, x是分裂出来的值（要作为新的根节点的），root是原先的根节点, p是分裂出来尚未找到父节点的节点</span></span><br><span class="line">	&#123;</span><br><span class="line">		BTree newRoot = <span class="keyword">new</span> BTNode; <span class="comment">// 新的节点</span></span><br><span class="line">		newRoot-&gt;keynum = <span class="number">1</span>; <span class="comment">// 只有一个值, 就是x</span></span><br><span class="line">		newRoot-&gt;key[<span class="number">1</span>] = x;</span><br><span class="line">		newRoot-&gt;parent = <span class="number">0</span>;</span><br><span class="line">		newRoot-&gt;ptr[<span class="number">0</span>] = root; <span class="comment">// 原先的root和这里的p作为新的根节点的两棵子树</span></span><br><span class="line">		newRoot-&gt;ptr[<span class="number">1</span>] = p;</span><br><span class="line">		root-&gt;parent = p-&gt;parent = newRoot;</span><br><span class="line">		root = newRoot;</span><br><span class="line">	&#125; <span class="comment">// 这个过程可以参见图2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(BTree &amp;root, <span class="keyword">int</span> key)</span> <span class="comment">// 往 root为根的树中插入key值, 分成2步（对应三个insert重载） 1、找到插入的位置（如果存在，一定是叶子节点） 2、自底向上插入(中间的插入)，一旦节点爆了，就分裂，然后继续往上插，直至没爆，注意, B树插入节点爆了的话不是将多余的节点放进兄弟节点(如果兄弟有多余位置),而是分裂</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Result r = search(root, key);</span><br><span class="line">	<span class="keyword">if</span> (!r.ptr) <span class="comment">// 如果root是空树(因为只有是空树, 则search中的while循环根本不会跑, 则r.ptr就是0)</span></span><br><span class="line">	&#123;</span><br><span class="line">		root = <span class="keyword">new</span> BTNode(key);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (r.ok)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">puts</span>(<span class="string">"关键字已存在, 插入失败"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	insert(root,key,r.ptr, r.i); <span class="comment">//关键字不存在，就要插入，注意, 如果关键字不存在的话, 那么r.ptr 就是叶子节点, 即B树插入新的节点都是从叶子节点开始的</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getSibling</span><span class="params">(BTree p, <span class="keyword">int</span> tmp, BTree &amp;lsibling, BTree &amp;rsibling, <span class="keyword">int</span> &amp;index)</span> <span class="comment">// 本函数的目的是获取指向p节点左右孩子的指针, index表示p的父节点的key数组中小于p-&gt;key[1]的关键值(这里就是tmp)的最大索引</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="comment">// 参见图3</span></span><br><span class="line">	Result r;</span><br><span class="line">	find(p-&gt;parent, tmp, r);</span><br><span class="line">	index = r.i; <span class="comment">// r.ok 一定是false. 并且r.i是p的父节点中比p-&gt;key[1](即这里的tmp)小的最大的那个关键值索引</span></span><br><span class="line">	<span class="keyword">if</span> (r.i == p-&gt;parent-&gt;keynum) rsibling = <span class="number">0</span>; <span class="comment">// 如果搜索结果发现p的父节点中任意一个关键值都严格小于tmp的话, 则p是没有右兄弟的</span></span><br><span class="line">	<span class="keyword">else</span> rsibling = p-&gt;parent-&gt;ptr[r.i+<span class="number">1</span>]; <span class="comment">// 否则右兄弟就是它</span></span><br><span class="line">	<span class="keyword">if</span> (!r.i) lsibling = <span class="number">0</span>; <span class="comment">// 如果p的父节点中所有的关键值都严格大于tmp的话(则p应该是p的父节点的第一根指针)</span></span><br><span class="line">	<span class="keyword">else</span> lsibling = p-&gt;parent-&gt;ptr[r.i<span class="number">-1</span>]; <span class="comment">// 否则左兄弟指针就是这个</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">borrow</span><span class="params">(BTree p, BTree sibling, <span class="keyword">int</span> index, <span class="keyword">char</span> tag)</span> <span class="comment">// p所指向的节点向它的左兄弟或者右兄弟借一个关键字,tag='r'表示向右兄弟借，'l'表示向左兄弟借，index表示p的父节点中小于p-&gt;key[1]的元素的最大索引</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">switch</span>(tag)</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'l'</span>:  <span class="comment">// 参看 图4</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = p-&gt;keynum; i; i--) p-&gt;key[i+<span class="number">1</span>] = p-&gt;key[i]; <span class="comment">// p的关键值右移动一格，迎接从左孩子借来的关键值,（因为是BST，所以借来的关键值一定排在p的关键值的首位）</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = p-&gt;keynum; ~i; i--) p-&gt;ptr[i+<span class="number">1</span>] = p-&gt;ptr[i]; <span class="comment">// p的指针右移动一格, 迎接从左孩子借来的关键值身后的那一根指针.</span></span><br><span class="line">		p-&gt;ptr[<span class="number">0</span>] = sibling-&gt;ptr[sibling-&gt;keynum]; <span class="comment">// 赋值指针</span></span><br><span class="line">		<span class="keyword">if</span> (p-&gt;ptr[<span class="number">0</span>]) p-&gt;ptr[<span class="number">0</span>]-&gt;parent = p; <span class="comment">// 改爹了 原先爹是左孩子, 现在变成了p</span></span><br><span class="line">		p-&gt;key[<span class="number">1</span>] = p-&gt;parent-&gt;key[index]; <span class="comment">// 父节点下来一个</span></span><br><span class="line">		p-&gt;parent-&gt;key[index] = sibling-&gt;key[sibling-&gt;keynum]; <span class="comment">// 左兄弟上去一个（所以父节点的元素个数压根没变, 不会影响父节点作为B树节点的定义，也就是这种借贷不会向上传播. 受影响的只有左兄弟，但好在左兄弟富裕,借的起）</span></span><br><span class="line">		sibling-&gt;keynum--;</span><br><span class="line">		p-&gt;keynum++;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'r'</span>:</span><br><span class="line">		p-&gt;key[++p-&gt;keynum] = p-&gt;parent-&gt;key[index+<span class="number">1</span>]; <span class="comment">// 父节点下来一个</span></span><br><span class="line">		p-&gt;parent-&gt;key[index+<span class="number">1</span>] = sibling-&gt;key[<span class="number">1</span>]; <span class="comment">// 右兄弟上去一个, 父节点的关键值个数没有受影响,不会传播</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i &lt; sibling-&gt;keynum; i++) sibling-&gt;key[i] = sibling-&gt;key[i+<span class="number">1</span>]; <span class="comment">// 因为右兄弟被借去一个, 所以要整体左移动</span></span><br><span class="line">		p-&gt;ptr[p-&gt;keynum] = sibling-&gt;ptr[<span class="number">0</span>]; <span class="comment">// 接管</span></span><br><span class="line">		<span class="keyword">if</span> (p-&gt;ptr[p-&gt;keynum]) p-&gt;ptr[p-&gt;keynum]-&gt;parent = p; <span class="comment">// 改爹了</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; sibling-&gt;keynum; i++) sibling-&gt;ptr[i] = sibling-&gt;ptr[i+<span class="number">1</span>]; <span class="comment">// 指针左移动一个</span></span><br><span class="line">		sibling-&gt;keynum--;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(BTree p, <span class="keyword">int</span> index, BTree sibling, <span class="keyword">char</span> tag)</span> <span class="comment">// 将p所指向的节点与它的左兄弟或者右兄弟外加父节点上的一个关键字（父节点少了一根指针,  从而也要少一个关键值）合并成一个新的节点,tag='r'表示与右兄弟合并,tag='l'表示与左兄弟合并,index表示p的父节点中小于p-&gt;key[1]的元素的最大索引</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> tmp;</span><br><span class="line">	<span class="keyword">switch</span>(tag)</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'l'</span>: <span class="comment">// 与左兄弟合并 确切讲, 是p外加p-&gt;parent-&gt;key[index]合并到p的左兄弟中去, 则p的左兄弟的关键字个数&lt;(M-1)/2+1+(M-1)/2=M, 则合并后的节点的关键字个数至多M-1, 所以子树棵树&lt;=M,符合B树节点的定义. 之所以考虑并入左子树, 是因为这样比较简单</span></span><br><span class="line">		tmp = sibling-&gt;keynum; <span class="comment">// 因为后面的 sibling-&gt;keynum 会发生变化, 所以这里临时记录一下</span></span><br><span class="line">		sibling-&gt;key[++sibling-&gt;keynum] = p-&gt;parent-&gt;key[index];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;= p-&gt;keynum; i++) sibling-&gt;key[++sibling-&gt;keynum] = p-&gt;key[i]; <span class="comment">// 将p的关键值并入左兄弟</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;=p-&gt;keynum; i++) <span class="comment">// 开始传送指针部分</span></span><br><span class="line">		&#123;</span><br><span class="line">			sibling-&gt;ptr[++tmp] = p-&gt;ptr[i];</span><br><span class="line">			<span class="keyword">if</span> (p-&gt;ptr[i]) p-&gt;ptr[i]-&gt;parent = sibling; <span class="comment">// 改爹</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = index; i&lt;p-&gt;parent-&gt;keynum<span class="number">-1</span>;i++) <span class="comment">// p的父节点少掉了一个关键值又少掉了一根指针, 所以合并起来较方便</span></span><br><span class="line">			&#123;</span><br><span class="line">				p-&gt;key[i] = p-&gt;key[i+<span class="number">1</span>];</span><br><span class="line">				p-&gt;ptr[i] = p-&gt;ptr[i+<span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		p-&gt;parent-&gt;keynum--;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'r'</span>: <span class="comment">// 与右兄弟合并, 确切讲，是右兄弟外加p-&gt;parent-&gt;key[index+1]并入p, 之所以采用这个顺序是因为追加比较简单，同理也是符合B树定义的. </span></span><br><span class="line">		tmp = p-&gt;keynum; <span class="comment">// 因为后面会变</span></span><br><span class="line">		p-&gt;key[++(p-&gt;keynum)] = p-&gt;parent-&gt;key[index+<span class="number">1</span>]; <span class="comment">// 父节点的一个关键值并入</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= sibling-&gt;keynum; i++)<span class="comment">//将右兄弟的关键字写进p的尾部		</span></span><br><span class="line">			p-&gt;key[++(p-&gt;keynum)]=sibling-&gt;key[i];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= sibling-&gt;keynum; i++)		</span><br><span class="line">		&#123;</span><br><span class="line">			p-&gt;ptr[++tmp]=sibling-&gt;ptr[i];<span class="comment">//将右兄弟的指针部分移进p指向的节点</span></span><br><span class="line">			<span class="keyword">if</span> (sibling-&gt;ptr[i])			</span><br><span class="line">				sibling-&gt;ptr[i]-&gt;parent=p;<span class="comment">//修改移动过来的指针指向的节点的父亲属性			</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = index+<span class="number">1</span>; i &lt;= p-&gt;parent-&gt;keynum<span class="number">-1</span>; i++)<span class="comment">//父节点少了一个关键字p-&gt;parent-&gt;key[index+1]与一根指针lORr,就需要将后续的递补上来</span></span><br><span class="line">		&#123;</span><br><span class="line">			p-&gt;parent-&gt;key[i]=p-&gt;parent-&gt;key[i+<span class="number">1</span>];</span><br><span class="line">			p-&gt;parent-&gt;ptr[i]=p-&gt;parent-&gt;ptr[i+<span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		p-&gt;parent-&gt;keynum--;<span class="comment">//父节点少了一个关键字与一个指针</span></span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delNode</span><span class="params">(BTree &amp;root, BTree p, <span class="keyword">int</span> _index)</span> <span class="comment">// 删除以root为根的B树的节点p上的p-&gt;key[_index], 注意, 这个p是叶子</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> tmp = p-&gt;key[_index]; <span class="comment">// 要删掉的值</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = _index+<span class="number">1</span>; i&lt;=p-&gt;keynum;i++) p-&gt;key[i<span class="number">-1</span>] = p-&gt;key[i]; <span class="comment">// 关键值向前移动一格</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = _index; i&lt;=p-&gt;keynum; i++) p-&gt;ptr[i<span class="number">-1</span>] = p-&gt;ptr[i]; <span class="comment">// 指针向前移动一格</span></span><br><span class="line">	p-&gt;keynum--; <span class="comment">// 已经删除了p上_index位置的关键值 则因为要维护B树的定义</span></span><br><span class="line">	BTree lsibling, rsibling, temp = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> index;</span><br><span class="line">	<span class="keyword">while</span>(p-&gt;parent &amp;&amp; p-&gt;keynum &lt; (M<span class="number">-1</span>)/<span class="number">2</span>) <span class="comment">// 只要p不是根节点(根节点的子树棵数需要不少于2，和非根节点不同)并且p的关键值个数&lt;(M-1)/2(则子树棵树&lt;(M+1)/2,而这就是M/2的向上取整，从而不满足B树定义), 即只要非根节点删除导致不满足B树定义, 就要向左邻右舍借或者如果邻舍都是穷鬼的话 就要向父节点借了</span></span><br><span class="line">	&#123;</span><br><span class="line">		getSibling(p, tmp, lsibling, rsibling, index); <span class="comment">// 得到p的兄弟，和p的父亲的关键值中小于要删掉的值的最大索引</span></span><br><span class="line">		<span class="keyword">if</span> (rsibling &amp;&amp; rsibling-&gt;keynum&gt;=(M+<span class="number">1</span>)/<span class="number">2</span>) <span class="comment">// 如果有右兄弟, 并且右兄弟的子树棵树&gt;=M/2向上取整+1（关键值的个数+1=子树的棵树）的话, 则右兄弟富裕，可以问他接一个关键值，就不需要将此事告知父节点了,这里是先问右兄弟借, 其实先问左兄弟借也行</span></span><br><span class="line">		&#123;</span><br><span class="line">			borrow(p, rsibling, index, <span class="string">'r'</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (lsibling &amp;&amp; lsibling-&gt;keynum &gt;= (M+<span class="number">1</span>)/<span class="number">2</span>) <span class="comment">//如果右兄弟不给力， 但是有左兄弟，并且左兄弟也富裕, 则可以问左兄弟借一个关键值</span></span><br><span class="line">		&#123;</span><br><span class="line">			borrow(p, lsibling, index, <span class="string">'l'</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="comment">// 左右兄弟都是穷鬼, 即子树棵树都恰好是 (M+1)/2, 亦即关键值个数都恰好是 (M-1)/2</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (rsibling) <span class="comment">// //如果右兄弟存在(但是右兄弟的关键字只有(M-1)/2个,不富余)的话,就与右兄弟合并,注意，确切讲是将右兄弟的东西并入到p所指向的节点中去了</span></span><br><span class="line">			&#123;</span><br><span class="line">				merge(p, index, rsibling, <span class="string">'r'</span>); <span class="comment">// p与右兄弟合并</span></span><br><span class="line">				rsibling = <span class="number">0</span>; <span class="comment">// 防止野指针</span></span><br><span class="line">				temp = p; <span class="comment">// 因为merge函数的处理是将右兄弟并入了p</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="comment">// //否则与左兄弟合并(注意，因为p不是根节点, 所以左右兄弟至少存在一个,不可能都不存在——哪怕是根节点只有2棵子树),确切讲是将p中的东西并入到左兄弟中去了		</span></span><br><span class="line">			&#123;</span><br><span class="line">				merge(p, index, lsibling, <span class="string">'l'</span>);</span><br><span class="line">				p = <span class="number">0</span>; <span class="comment">// 防止野指针</span></span><br><span class="line">				temp = lsibling; <span class="comment">// 因为merge函数的处理是将p并入了左兄弟</span></span><br><span class="line">			&#125;</span><br><span class="line">			p = temp-&gt;parent; <span class="comment">// 因为父节点少了一个元素+一根指针, 所以可能不满足B树节点的定义了. 所以父节点可能要进一步处理. 这就是如果左右邻居都穷的话, 就要问父节点借一个关键值，导致这种穷困会向父节点进行传播</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="comment">// while循环结束的方式是 1.变成根节点 2. p的关键值个数已经满足B树节点要求了</span></span><br><span class="line">	<span class="keyword">if</span> (!p-&gt;keynum) <span class="comment">// 如果p变成了根节点, 并且根节点一个节点都没了(B树节点要求根节点至少2棵子树, 所以至少1个关键值), 如果一个关键值都没了, 则就不行(注意， 这里不要写p-&gt;keynum &lt;(M-1)/2，因为如果没p-&gt;keynum 少到0也是符合B树要求的,换言之, 只有p-&gt;keynum为0才需要处理 )</span></span><br><span class="line">	&#123;</span><br><span class="line">		root = temp; <span class="comment">// temp是根节点的孩子, 但是因为它穷，向父节点（即根节点）借了一个关键值之后导致根节点都给减没了. 则temp就是新的根节点</span></span><br><span class="line">		<span class="keyword">if</span> (root) root-&gt;parent = <span class="number">0</span>; <span class="comment">// 设置新晋根节点的父节点是NULL</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(BTree &amp;root, <span class="keyword">int</span> key)</span> <span class="comment">// 在以root为根的B树中删除关键字key, 想法其实和bst是一样的（B树本质也是bst）, 是先找到要删除的顶点, 然后与最左边的孩子的关键值的第一个交换一下, 则要删除的就是这个底层叶子节点了(最后都是叶子倒霉), 这个在bst、splay、AVL中都是这样删除的</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Result r = search(root, key);</span><br><span class="line">	<span class="keyword">if</span> (!r.ptr || !r.ok)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">puts</span>(<span class="string">"该关键字不存在"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	BTree p = r.ptr-&gt;ptr[r.i]; <span class="comment">//  r.ptr-&gt;key[r.i] = key, 而 r.ptr-&gt;ptr[r.i] 为根节点的树上的值都是严格大于key的</span></span><br><span class="line">	<span class="keyword">if</span>(p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(p-&gt;ptr[<span class="number">0</span>]) p = p-&gt;ptr[<span class="number">0</span>]; <span class="comment">// 到达最后底层的叶子节点</span></span><br><span class="line">		r.ptr-&gt;key[r.i] = p-&gt;key[<span class="number">1</span>]; <span class="comment">// 将待删除的关键值替换为第一个关键值， 注意，这个关键值是顶替r.ptr-&gt;key[r.i]的(其实BST也是一样的)</span></span><br><span class="line">		delNode(root, p, <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> delNode(root, r.ptr, r.i); <span class="comment">// r.ptr是叶子, 则直接删掉该节点上的关键值的 r.i索引即可</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOCAL</span></span><br><span class="line">	freopen(<span class="string">"d:\\data.in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">	BTree root = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">15</span>]=&#123;<span class="number">45</span>,<span class="number">24</span>,<span class="number">53</span>,<span class="number">90</span>,<span class="number">3</span>,<span class="number">12</span>,<span class="number">50</span>,<span class="number">61</span>,<span class="number">70</span>,<span class="number">100</span>,<span class="number">30</span>,<span class="number">26</span>,<span class="number">85</span>,<span class="number">70</span>,<span class="number">7</span>&#125;; <span class="comment">// 测试数据的图例参见图4之后的图示</span></span><br><span class="line">	<span class="comment">//测试Insert模块</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">15</span>; i++)insert(root,a[i]);<span class="comment">//最后生成的B树与严蔚敏书上有些出路..但是我纸上模拟了一下，我得到的结果依旧是对的（从而可以知道——不同的插入顺序得到的B树形态是不同的）	</span></span><br><span class="line">	<span class="comment">//测试Delete模块</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">15</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		del(root,a[i]);	</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从上面的代码结合下面的图示可以看出，B树所有的叶结点都处于相同的深度. 因此B树是平衡查找树.</p>
<p>大家广为熟知的mysql的存储引擎就是使用B+树实现的，其实B系列的树在内存算法中是没有太大优势的，可是一旦到了海量数据的外存算法，威力就显现出来了. 而且对于海量数据的B+树检索，因为根节点以及上面若干层的节点被反复query，所以基本这几个磁盘块一旦被读入内存，就一直驻在内存中了，不会重读IO的. 其实一般的数据库引擎一旦启动，这几个磁盘块就被主动换入内存页了.</p>
<p>下图演示了一个查找以职工号为关键字，职工号为38的记录的简单示意图  ，这里假设每个物理磁盘块仅能容纳3个索引，磁盘的I/O操作的基本单位是块（block),磁盘访问很费时，采用B+树有效的减 少了访问磁盘的次数    </p>
<img src="/2019/05/29/B-B-树/mysql.png" title="mysql索引">
<p>注意, 对于mysql的B+树索引，和本文程序实现的不大一样. mysql的B+树索引大概长下面的样子</p>
<img src="/2019/05/29/B-B-树/mysql_B_plus_index.png" title="图示">
<p>最显著的特点是底层叶子节点之间有一根双向链表连接，目的就是为了高效实现范围查询</p>
<p>但是上图显示的是一维的. 仅仅叶子节点存放输入点，内部节点等二左子树中的最大者（即 内部节点存放的都是索引节点而已）. 所以mysql的B+树索引的构建是来一个数据，走二叉树定位到要插入的节点, 如果存在, 则不允许插入（这里是mysql索引的简化版——不允许重复数据）,如果不存在，则定位到叶子节点, 该插入插入，该分裂分裂</p>
<p>最后说一句, 同样的元素, 插入的顺序不同, 得到的B树结构未必一样.</p>
<h3 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h3><img src="/2019/05/29/B-B-树/1.png" title="图示"> 
<p>图1</p>
<img src="/2019/05/29/B-B-树/2.png" title="图示"> 
<p>图2</p>
<img src="/2019/05/29/B-B-树/3.png" title="图示"> 
<p>图3</p>
<img src="/2019/05/29/B-B-树/4.png" title="图示"> 
<p>图4</p>
<p>以下图示用于展示main函数中新增和删除元素的B树结构变化的过程.</p>
<img src="/2019/05/29/B-B-树/5.png" title="图示"> 
<p>图5</p>
<img src="/2019/05/29/B-B-树/6.png" title="图示"> 
<p>图6</p>
<img src="/2019/05/29/B-B-树/7.png" title="图示"> 
<p>图7</p>
<img src="/2019/05/29/B-B-树/8.png" title="图示"> 
<p>图8</p>
<img src="/2019/05/29/B-B-树/9.png" title="图示"> 
<p>图9</p>
<img src="/2019/05/29/B-B-树/10.png" title="图示"> 
<p>图10</p>
<img src="/2019/05/29/B-B-树/11.png" title="图示"> 
<p>图11</p>
<img src="/2019/05/29/B-B-树/12.png" title="图示"> 
<p>图12</p>
<img src="/2019/05/29/B-B-树/13.png" title="图示"> 
<p>图13</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>【1】<a href="https://blog.csdn.net/v_JULY_v/article/details/6530142/" target="_blank" rel="noopener">https://blog.csdn.net/v_JULY_v/article/details/6530142/</a> </p>
<p>【2】<a href="https://juejin.im/book/5bffcbc9f265da614b11b731/section/5bffdb7c6fb9a049cd53ea84" target="_blank" rel="noopener">https://juejin.im/book/5bffcbc9f265da614b11b731/section/5bffdb7c6fb9a049cd53ea84</a> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/29/B-B-树/" data-id="ck01qtzs601v0vwvmfdcd5qf0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/教材/">教材</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/查找树/">查找树</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/树/">树</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法/">算法</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/05/31/红黑树/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          红黑树
        
      </div>
    </a>
  
  
    <a href="/2019/05/29/Splay/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Splay</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/01背包/">01背包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/51nod/">51nod</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BST/">BST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-Primer/">C++ Primer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CRT/">CRT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C和指针/">C和指针</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DAG/">DAG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DP/">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FFT/">FFT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HotSpot/">HotSpot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Huffman树/">Huffman树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK/">JDK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JMM/">JMM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JRE/">JRE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Johnson不等式/">Johnson不等式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KMP/">KMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LCA/">LCA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LCS/">LCS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LDAP/">LDAP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LIS/">LIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MST/">MST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Manacher算法/">Manacher算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Miller-Rabin/">Miller-Rabin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oauth2-0/">Oauth2.0</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenJudge/">OpenJudge</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pollard-rho/">Pollard rho</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RMQ/">RMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ST/">ST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVN/">SVN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String/">String</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tarjan/">Tarjan</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/activemq/">activemq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bfs/">bfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c-c/">c/c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dfs/">dfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dijkstra/">dijkstra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dp/">dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fft/">fft</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/floyd/">floyd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fzu/">fzu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gcd/">gcd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gcj/">gcj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdfs/">hdfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdu/">hdu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hibernate/">hibernate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hustoj/">hustoj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java并发编程实践/">java并发编程实践</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdbc/">jdbc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jpa/">jpa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/karatsuba/">karatsuba</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kd树/">kd树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kmp/">kmp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kruskal/">kruskal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kth/">kth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/libreoj/">libreoj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lightoj/">lightoj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mapreduce/">mapreduce</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/miller-rabin/">miller-rabin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/next-permutation/">next_permutation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oj/">oj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle/">oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/poj/">poj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pollard-rho/">pollard-rho</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/postgresql/">postgresql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prim/">prim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sbt/">sbt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sdutoj/">sdutoj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/servlet/">servlet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spfa/">spfa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/">springboot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springmvc/">springmvc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/">sql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sstream/">sstream</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stringstream/">stringstream</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swagger/">swagger</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/synchronized/">synchronized</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/topK/">topK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/treap/">treap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/trie/">trie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uva/">uva</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/volatile/">volatile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zzulioj/">zzulioj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/中国剩余定理/">中国剩余定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/事务/">事务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二分图/">二分图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二分查找/">二分查找</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二分答案/">二分答案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二叉树/">二叉树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/交叉染色法/">交叉染色法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/优先队列/">优先队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/位图/">位图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/全排列/">全排列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内存模型/">内存模型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分支限界/">分支限界</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分治/">分治</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分解素因数/">分解素因数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/划分数/">划分数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/剑指offer/">剑指offer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/剪枝/">剪枝</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态查找/">动态查找</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态规划/">动态规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单调子序列/">单调子序列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单调队列/">单调队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/卡米切尔数/">卡米切尔数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/原生js/">原生js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/反向建图/">反向建图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/反转开关问题/">反转开关问题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/同步/">同步</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后台/">后台</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端，数据库-mysql/">后端，数据库, mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后缀树/">后缀树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/启发式搜索/">启发式搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/哈希/">哈希</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/回文/">回文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图/">图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/在线算法/">在线算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/堆/">堆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/堆优化/">堆优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/堆排/">堆排</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/堆排序/">堆排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多重背包/">多重背包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多重集组合数/">多重集组合数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/大数据/">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串匹配/">字符串匹配</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/完全背包/">完全背包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/宽搜/">宽搜</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/尺取法/">尺取法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/左式堆/">左式堆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/带权并查集/">带权并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/平衡查找树/">平衡查找树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发/">并发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并查集/">并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/强连通/">强连通</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/强连通分支/">强连通分支</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/归并排序/">归并排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/心语/">心语</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/快排/">快排</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/快速幂/">快速幂</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/性能优化/">性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/感悟/">感悟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/扩展KMP/">扩展KMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/扩展欧几里得/">扩展欧几里得</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/抓包/">抓包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拓扑排序/">拓扑排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排序/">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搜索/">搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/操作系统/">操作系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/教材/">教材</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学/">数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数组/">数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数论/">数论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最大公约数/">最大公约数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最大生成树/">最大生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最小正整数解/">最小正整数解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最小生成树/">最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最短路/">最短路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最短路径/">最短路径</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最长回文子串/">最长回文子串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/有向图/">有向图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂/">杂</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/板子/">板子</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/查找/">查找</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/查找树/">查找树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/栈/">栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树/">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树堆/">树堆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树状数组/">树状数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/桶排序/">桶排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模块化/">模块化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模板/">模板</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/次短路/">次短路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/欧几里得/">欧几里得</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/欧拉函数/">欧拉函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/欧拉环游/">欧拉环游</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/死锁/">死锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/泛洪/">泛洪</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/洛谷/">洛谷</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/洪特规则/">洪特规则</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浮点数二分答案/">浮点数二分答案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深搜/">深搜</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/源码/">源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/源码分析/">源码分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/滚动数组/">滚动数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/版本控制/">版本控制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/牛客网/">牛客网</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/状态压缩/">状态压缩</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生成树/">生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/百练/">百练</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/离散化/">离散化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/筛法/">筛法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/简历/">简历</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/素数/">素数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/素数测试/">素数测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/约瑟夫环/">约瑟夫环</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线上问题/">线上问题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线性同余方程/">线性同余方程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线性筛/">线性筛</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线段树/">线段树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/组件化/">组件化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编译原理/">编译原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络协议/">网络协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/背包/">背包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自己动手用java写编译器/">自己动手用java写编译器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/菜鸟教材/">菜鸟教材</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/词典/">词典</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/负权环/">负权环</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪心/">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/轮播图/">轮播图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/连通/">连通</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/连通分支/">连通分支</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/连通性/">连通性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逆元/">逆元</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逆序数/">逆序数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/递归/">递归</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/遍历/">遍历</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邻接多重表/">邻接多重表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/链表/">链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/锁/">锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/队列/">队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/集合/">集合</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/静态查找树/">静态查找树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试/">面试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高精度/">高精度</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/01背包/" style="font-size: 12.5px;">01背包</a> <a href="/tags/51nod/" style="font-size: 10px;">51nod</a> <a href="/tags/BST/" style="font-size: 10px;">BST</a> <a href="/tags/C/" style="font-size: 17.5px;">C</a> <a href="/tags/C/" style="font-size: 11.07px;">C++</a> <a href="/tags/C-Primer/" style="font-size: 10px;">C++ Primer</a> <a href="/tags/CRT/" style="font-size: 10px;">CRT</a> <a href="/tags/C和指针/" style="font-size: 16.79px;">C和指针</a> <a href="/tags/DAG/" style="font-size: 10.71px;">DAG</a> <a href="/tags/DFS/" style="font-size: 10.36px;">DFS</a> <a href="/tags/DP/" style="font-size: 13.93px;">DP</a> <a href="/tags/FFT/" style="font-size: 10px;">FFT</a> <a href="/tags/HotSpot/" style="font-size: 10px;">HotSpot</a> <a href="/tags/Huffman树/" style="font-size: 10px;">Huffman树</a> <a href="/tags/JDK/" style="font-size: 16.07px;">JDK</a> <a href="/tags/JMM/" style="font-size: 10.36px;">JMM</a> <a href="/tags/JRE/" style="font-size: 10px;">JRE</a> <a href="/tags/JVM/" style="font-size: 10.71px;">JVM</a> <a href="/tags/Johnson不等式/" style="font-size: 10px;">Johnson不等式</a> <a href="/tags/KMP/" style="font-size: 10px;">KMP</a> <a href="/tags/LCA/" style="font-size: 10.71px;">LCA</a> <a href="/tags/LCS/" style="font-size: 10.36px;">LCS</a> <a href="/tags/LDAP/" style="font-size: 10.36px;">LDAP</a> <a href="/tags/LIS/" style="font-size: 10.71px;">LIS</a> <a href="/tags/MST/" style="font-size: 10.71px;">MST</a> <a href="/tags/Manacher算法/" style="font-size: 10px;">Manacher算法</a> <a href="/tags/Miller-Rabin/" style="font-size: 10.71px;">Miller-Rabin</a> <a href="/tags/Oauth2-0/" style="font-size: 10px;">Oauth2.0</a> <a href="/tags/OpenJudge/" style="font-size: 10px;">OpenJudge</a> <a href="/tags/Pollard-rho/" style="font-size: 10.36px;">Pollard rho</a> <a href="/tags/RMQ/" style="font-size: 11.43px;">RMQ</a> <a href="/tags/ST/" style="font-size: 10px;">ST</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spring/" style="font-size: 14.29px;">Spring</a> <a href="/tags/String/" style="font-size: 10.36px;">String</a> <a href="/tags/Tarjan/" style="font-size: 10px;">Tarjan</a> <a href="/tags/activemq/" style="font-size: 10px;">activemq</a> <a href="/tags/bfs/" style="font-size: 11.43px;">bfs</a> <a href="/tags/c-c/" style="font-size: 10px;">c/c++</a> <a href="/tags/dfs/" style="font-size: 13.57px;">dfs</a> <a href="/tags/dijkstra/" style="font-size: 11.43px;">dijkstra</a> <a href="/tags/dp/" style="font-size: 14.64px;">dp</a> <a href="/tags/fft/" style="font-size: 10px;">fft</a> <a href="/tags/floyd/" style="font-size: 10.36px;">floyd</a> <a href="/tags/fzu/" style="font-size: 10.36px;">fzu</a> <a href="/tags/gcd/" style="font-size: 10.71px;">gcd</a> <a href="/tags/gcj/" style="font-size: 10px;">gcj</a> <a href="/tags/gradle/" style="font-size: 10.36px;">gradle</a> <a href="/tags/hadoop/" style="font-size: 10.36px;">hadoop</a> <a href="/tags/hdfs/" style="font-size: 10.36px;">hdfs</a> <a href="/tags/hdu/" style="font-size: 16.43px;">hdu</a> <a href="/tags/hibernate/" style="font-size: 10px;">hibernate</a> <a href="/tags/hustoj/" style="font-size: 10px;">hustoj</a> <a href="/tags/java并发编程实践/" style="font-size: 15.71px;">java并发编程实践</a> <a href="/tags/jdbc/" style="font-size: 10.36px;">jdbc</a> <a href="/tags/jpa/" style="font-size: 10px;">jpa</a> <a href="/tags/karatsuba/" style="font-size: 10px;">karatsuba</a> <a href="/tags/kd树/" style="font-size: 10px;">kd树</a> <a href="/tags/kmp/" style="font-size: 10px;">kmp</a> <a href="/tags/kruskal/" style="font-size: 10.36px;">kruskal</a> <a href="/tags/kth/" style="font-size: 10.36px;">kth</a> <a href="/tags/leetcode/" style="font-size: 10.36px;">leetcode</a> <a href="/tags/libreoj/" style="font-size: 10px;">libreoj</a> <a href="/tags/lightoj/" style="font-size: 11.79px;">lightoj</a> <a href="/tags/mapreduce/" style="font-size: 10px;">mapreduce</a> <a href="/tags/miller-rabin/" style="font-size: 10px;">miller-rabin</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/next-permutation/" style="font-size: 10px;">next_permutation</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/oj/" style="font-size: 19.64px;">oj</a> <a href="/tags/oracle/" style="font-size: 10px;">oracle</a> <a href="/tags/poj/" style="font-size: 18.93px;">poj</a> <a href="/tags/pollard-rho/" style="font-size: 10px;">pollard-rho</a> <a href="/tags/postgresql/" style="font-size: 10px;">postgresql</a> <a href="/tags/prim/" style="font-size: 11.07px;">prim</a> <a href="/tags/sbt/" style="font-size: 10px;">sbt</a> <a href="/tags/sdutoj/" style="font-size: 10.36px;">sdutoj</a> <a href="/tags/servlet/" style="font-size: 10px;">servlet</a> <a href="/tags/spfa/" style="font-size: 10.71px;">spfa</a> <a href="/tags/spring/" style="font-size: 12.14px;">spring</a> <a href="/tags/springboot/" style="font-size: 10.71px;">springboot</a> <a href="/tags/springmvc/" style="font-size: 10.36px;">springmvc</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/sstream/" style="font-size: 10px;">sstream</a> <a href="/tags/stringstream/" style="font-size: 10px;">stringstream</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/synchronized/" style="font-size: 10.36px;">synchronized</a> <a href="/tags/topK/" style="font-size: 10.36px;">topK</a> <a href="/tags/treap/" style="font-size: 10px;">treap</a> <a href="/tags/trie/" style="font-size: 12.14px;">trie</a> <a href="/tags/uva/" style="font-size: 10.71px;">uva</a> <a href="/tags/volatile/" style="font-size: 10.36px;">volatile</a> <a href="/tags/vue/" style="font-size: 10.71px;">vue</a> <a href="/tags/zzulioj/" style="font-size: 10px;">zzulioj</a> <a href="/tags/中国剩余定理/" style="font-size: 10px;">中国剩余定理</a> <a href="/tags/事务/" style="font-size: 11.43px;">事务</a> <a href="/tags/二分图/" style="font-size: 10px;">二分图</a> <a href="/tags/二分查找/" style="font-size: 10.36px;">二分查找</a> <a href="/tags/二分答案/" style="font-size: 11.07px;">二分答案</a> <a href="/tags/二叉树/" style="font-size: 10.36px;">二叉树</a> <a href="/tags/交叉染色法/" style="font-size: 10px;">交叉染色法</a> <a href="/tags/优先队列/" style="font-size: 13.93px;">优先队列</a> <a href="/tags/位图/" style="font-size: 10px;">位图</a> <a href="/tags/全排列/" style="font-size: 10.36px;">全排列</a> <a href="/tags/内存模型/" style="font-size: 10.36px;">内存模型</a> <a href="/tags/分支限界/" style="font-size: 10px;">分支限界</a> <a href="/tags/分治/" style="font-size: 10px;">分治</a> <a href="/tags/分解素因数/" style="font-size: 11.43px;">分解素因数</a> <a href="/tags/划分数/" style="font-size: 10.36px;">划分数</a> <a href="/tags/前端/" style="font-size: 11.43px;">前端</a> <a href="/tags/剑指offer/" style="font-size: 10px;">剑指offer</a> <a href="/tags/剪枝/" style="font-size: 10px;">剪枝</a> <a href="/tags/动态查找/" style="font-size: 10px;">动态查找</a> <a href="/tags/动态规划/" style="font-size: 11.79px;">动态规划</a> <a href="/tags/单调子序列/" style="font-size: 10.36px;">单调子序列</a> <a href="/tags/单调队列/" style="font-size: 10.36px;">单调队列</a> <a href="/tags/卡米切尔数/" style="font-size: 10px;">卡米切尔数</a> <a href="/tags/原生js/" style="font-size: 10px;">原生js</a> <a href="/tags/反向建图/" style="font-size: 10px;">反向建图</a> <a href="/tags/反转开关问题/" style="font-size: 10px;">反转开关问题</a> <a href="/tags/同步/" style="font-size: 10.36px;">同步</a> <a href="/tags/后台/" style="font-size: 10px;">后台</a> <a href="/tags/后端/" style="font-size: 18.57px;">后端</a> <a href="/tags/后端，数据库-mysql/" style="font-size: 10px;">后端，数据库, mysql</a> <a href="/tags/后缀树/" style="font-size: 10px;">后缀树</a> <a href="/tags/启发式搜索/" style="font-size: 10px;">启发式搜索</a> <a href="/tags/哈希/" style="font-size: 11.07px;">哈希</a> <a href="/tags/回文/" style="font-size: 10px;">回文</a> <a href="/tags/图/" style="font-size: 17.86px;">图</a> <a href="/tags/在线算法/" style="font-size: 10px;">在线算法</a> <a href="/tags/堆/" style="font-size: 10px;">堆</a> <a href="/tags/堆优化/" style="font-size: 10.71px;">堆优化</a> <a href="/tags/堆排/" style="font-size: 10.36px;">堆排</a> <a href="/tags/堆排序/" style="font-size: 10px;">堆排序</a> <a href="/tags/多重背包/" style="font-size: 11.07px;">多重背包</a> <a href="/tags/多重集组合数/" style="font-size: 10px;">多重集组合数</a> <a href="/tags/大数据/" style="font-size: 10.71px;">大数据</a> <a href="/tags/字符串/" style="font-size: 13.21px;">字符串</a> <a href="/tags/字符串匹配/" style="font-size: 10px;">字符串匹配</a> <a href="/tags/完全背包/" style="font-size: 10px;">完全背包</a> <a href="/tags/宽搜/" style="font-size: 10.36px;">宽搜</a> <a href="/tags/小程序/" style="font-size: 10px;">小程序</a> <a href="/tags/尺取法/" style="font-size: 10.36px;">尺取法</a> <a href="/tags/左式堆/" style="font-size: 10px;">左式堆</a> <a href="/tags/带权并查集/" style="font-size: 10px;">带权并查集</a> <a href="/tags/平衡查找树/" style="font-size: 10px;">平衡查找树</a> <a href="/tags/并发/" style="font-size: 16.43px;">并发</a> <a href="/tags/并查集/" style="font-size: 12.5px;">并查集</a> <a href="/tags/强连通/" style="font-size: 10.36px;">强连通</a> <a href="/tags/强连通分支/" style="font-size: 10px;">强连通分支</a> <a href="/tags/归并排序/" style="font-size: 10px;">归并排序</a> <a href="/tags/心语/" style="font-size: 10px;">心语</a> <a href="/tags/快排/" style="font-size: 10.71px;">快排</a> <a href="/tags/快速幂/" style="font-size: 13.21px;">快速幂</a> <a href="/tags/性能优化/" style="font-size: 10px;">性能优化</a> <a href="/tags/感悟/" style="font-size: 10px;">感悟</a> <a href="/tags/扩展KMP/" style="font-size: 10.71px;">扩展KMP</a> <a href="/tags/扩展欧几里得/" style="font-size: 10.71px;">扩展欧几里得</a> <a href="/tags/抓包/" style="font-size: 10px;">抓包</a> <a href="/tags/拓扑排序/" style="font-size: 10.36px;">拓扑排序</a> <a href="/tags/排序/" style="font-size: 15.36px;">排序</a> <a href="/tags/搜索/" style="font-size: 11.79px;">搜索</a> <a href="/tags/操作系统/" style="font-size: 10.71px;">操作系统</a> <a href="/tags/教材/" style="font-size: 19.29px;">教材</a> <a href="/tags/数学/" style="font-size: 15px;">数学</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/数组/" style="font-size: 10px;">数组</a> <a href="/tags/数论/" style="font-size: 12.14px;">数论</a> <a href="/tags/最大公约数/" style="font-size: 10px;">最大公约数</a> <a href="/tags/最大生成树/" style="font-size: 10.36px;">最大生成树</a> <a href="/tags/最小正整数解/" style="font-size: 10.36px;">最小正整数解</a> <a href="/tags/最小生成树/" style="font-size: 11.43px;">最小生成树</a> <a href="/tags/最短路/" style="font-size: 13.21px;">最短路</a> <a href="/tags/最短路径/" style="font-size: 12.14px;">最短路径</a> <a href="/tags/最长回文子串/" style="font-size: 10px;">最长回文子串</a> <a href="/tags/有向图/" style="font-size: 10px;">有向图</a> <a href="/tags/杂/" style="font-size: 10px;">杂</a> <a href="/tags/板子/" style="font-size: 10px;">板子</a> <a href="/tags/查找/" style="font-size: 10px;">查找</a> <a href="/tags/查找树/" style="font-size: 12.86px;">查找树</a> <a href="/tags/栈/" style="font-size: 12.14px;">栈</a> <a href="/tags/树/" style="font-size: 17.14px;">树</a> <a href="/tags/树堆/" style="font-size: 10px;">树堆</a> <a href="/tags/树状数组/" style="font-size: 11.07px;">树状数组</a> <a href="/tags/桶排序/" style="font-size: 10px;">桶排序</a> <a href="/tags/模块化/" style="font-size: 10px;">模块化</a> <a href="/tags/模板/" style="font-size: 12.5px;">模板</a> <a href="/tags/次短路/" style="font-size: 10px;">次短路</a> <a href="/tags/欧几里得/" style="font-size: 10.36px;">欧几里得</a> <a href="/tags/欧拉函数/" style="font-size: 10.36px;">欧拉函数</a> <a href="/tags/欧拉环游/" style="font-size: 10px;">欧拉环游</a> <a href="/tags/死锁/" style="font-size: 10px;">死锁</a> <a href="/tags/泛洪/" style="font-size: 10px;">泛洪</a> <a href="/tags/洛谷/" style="font-size: 10.36px;">洛谷</a> <a href="/tags/洪特规则/" style="font-size: 10px;">洪特规则</a> <a href="/tags/浮点数二分答案/" style="font-size: 10px;">浮点数二分答案</a> <a href="/tags/深搜/" style="font-size: 11.43px;">深搜</a> <a href="/tags/源码/" style="font-size: 18.21px;">源码</a> <a href="/tags/源码分析/" style="font-size: 11.07px;">源码分析</a> <a href="/tags/滚动数组/" style="font-size: 10px;">滚动数组</a> <a href="/tags/版本控制/" style="font-size: 10px;">版本控制</a> <a href="/tags/牛客网/" style="font-size: 11.07px;">牛客网</a> <a href="/tags/状态压缩/" style="font-size: 10px;">状态压缩</a> <a href="/tags/生成树/" style="font-size: 10.36px;">生成树</a> <a href="/tags/百练/" style="font-size: 10.36px;">百练</a> <a href="/tags/离散化/" style="font-size: 10.71px;">离散化</a> <a href="/tags/筛法/" style="font-size: 11.79px;">筛法</a> <a href="/tags/简历/" style="font-size: 10px;">简历</a> <a href="/tags/算法/" style="font-size: 20px;">算法</a> <a href="/tags/素数/" style="font-size: 10px;">素数</a> <a href="/tags/素数测试/" style="font-size: 10.71px;">素数测试</a> <a href="/tags/约瑟夫环/" style="font-size: 10px;">约瑟夫环</a> <a href="/tags/线上问题/" style="font-size: 10px;">线上问题</a> <a href="/tags/线性同余方程/" style="font-size: 10px;">线性同余方程</a> <a href="/tags/线性筛/" style="font-size: 10px;">线性筛</a> <a href="/tags/线段树/" style="font-size: 12.14px;">线段树</a> <a href="/tags/组件化/" style="font-size: 10px;">组件化</a> <a href="/tags/编译原理/" style="font-size: 13.93px;">编译原理</a> <a href="/tags/网络协议/" style="font-size: 10px;">网络协议</a> <a href="/tags/背包/" style="font-size: 14.29px;">背包</a> <a href="/tags/自己动手用java写编译器/" style="font-size: 13.93px;">自己动手用java写编译器</a> <a href="/tags/菜鸟教材/" style="font-size: 10.71px;">菜鸟教材</a> <a href="/tags/设计模式/" style="font-size: 10.71px;">设计模式</a> <a href="/tags/词典/" style="font-size: 10px;">词典</a> <a href="/tags/负权环/" style="font-size: 10.36px;">负权环</a> <a href="/tags/贪心/" style="font-size: 14.64px;">贪心</a> <a href="/tags/轮播图/" style="font-size: 10px;">轮播图</a> <a href="/tags/连通/" style="font-size: 11.07px;">连通</a> <a href="/tags/连通分支/" style="font-size: 10.36px;">连通分支</a> <a href="/tags/连通性/" style="font-size: 11.43px;">连通性</a> <a href="/tags/逆元/" style="font-size: 10px;">逆元</a> <a href="/tags/逆序数/" style="font-size: 10.36px;">逆序数</a> <a href="/tags/递归/" style="font-size: 11.43px;">递归</a> <a href="/tags/遍历/" style="font-size: 10px;">遍历</a> <a href="/tags/邻接多重表/" style="font-size: 10.71px;">邻接多重表</a> <a href="/tags/链表/" style="font-size: 11.43px;">链表</a> <a href="/tags/锁/" style="font-size: 10.71px;">锁</a> <a href="/tags/队列/" style="font-size: 11.43px;">队列</a> <a href="/tags/集合/" style="font-size: 10px;">集合</a> <a href="/tags/静态查找树/" style="font-size: 10.36px;">静态查找树</a> <a href="/tags/面试/" style="font-size: 13.21px;">面试</a> <a href="/tags/高精度/" style="font-size: 13.21px;">高精度</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/02/二进制状态压缩/">二进制状态压缩</a>
          </li>
        
          <li>
            <a href="/2019/09/01/poj-3279-Fliptile-反转开关问题/">poj 3279 Fliptile 反转开关问题</a>
          </li>
        
          <li>
            <a href="/2019/09/01/poj-3276-Face-The-Right-Way-开关问题/">poj 3276 Face The Right Way 开关问题</a>
          </li>
        
          <li>
            <a href="/2019/09/01/poj-3320-Jessica-s-Reading-Problem-尺取法/">poj 3320 Jessica&#39;s Reading Problem 尺取法</a>
          </li>
        
          <li>
            <a href="/2019/09/01/poj-3111-K-Best-最大化平均值/">poj 3111 K Best 最大化平均值</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>